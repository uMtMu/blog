<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-09-04 Tue 09:36 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>uMtMu</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="umt" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">uMtMu</h1>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<div class="org-center">

<div class="figure">
<p><img src="img/ja2.png" alt="ja2.png" /><br />
</p>
</div>
</div>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd49e09b">1. SaltStack HowTo</a>
<ul>
<li><a href="#org82487c9">1.1. Fundamentals</a></li>
<li><a href="#org0f82857">1.2. Configuration Management</a></li>
<li><a href="#orgec1aa62">1.3. Diff Files Across Salt Minions</a></li>
<li><a href="#orgab6ea31">1.4. Resource</a></li>
<li><a href="#org6eaabb3">1.5. Further Readings</a></li>
</ul>
</li>
<li><a href="#org96ca9ae">2. Bağlantılar</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgd49e09b" class="outline-2">
<h2 id="orgd49e09b"><span class="section-number-2">1</span> SaltStack HowTo</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org82487c9" class="outline-3">
<h3 id="org82487c9"><span class="section-number-3">1.1</span> Fundamentals</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-org83d3b0d" class="outline-4">
<h4 id="org83d3b0d"><span class="section-number-4">1.1.1</span> Install</h4>
<div class="outline-text-4" id="text-1-1-1">
</div>
<ol class="org-ol">
<li><a id="org9b01beb"></a>Master<br />
<div class="outline-text-5" id="text-1-1-1-1">
<div class="org-src-container">
<pre class="src src-shell">curl -L https://bootstrap.saltstack.com -o install_salt.sh
sudo sh install_salt.sh -M
</pre>
</div>
<p>
<b>-M</b> master'ı belirtiyor.<br />
</p>
</div>
</li>
<li><a id="orgdb25629"></a>Slave<br />
<div class="outline-text-5" id="text-1-1-1-2">
<div class="org-src-container">
<pre class="src src-shell">curl -L https://bootstrap.saltstack.com -o install_salt.sh
sudo sh install_salt.sh
</pre>
</div>

<p>
Eğer /etc/hosts dosyasında salt isimiyle tanımlanmış bir girdi varsa slaveler bu girdiyi master adresi olarak kabul edip keylerini gönderiyor. Yoksa<br />
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org06bfcbf">master: 192.168.0.50
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org2118773" class="outline-4">
<h4 id="org2118773"><span class="section-number-4">1.1.2</span> Slavelerin kaydedilmesi</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">
<pre class="src src-shell">sudo salt-keys --list-all
sudo salt-keys --accept-all
</pre>
</div>

<p>
<code>--list-all</code> komutu ile çıkan listede değişiklik görülecektir.<br />
</p>
</div>
</div>
<div id="outline-container-org95d49a6" class="outline-4">
<h4 id="org95d49a6"><span class="section-number-4">1.1.3</span> Slavelerde komut çalıştırılması</h4>
<div class="outline-text-4" id="text-1-1-3">
</div>
<ol class="org-ol">
<li><a id="org13b9937"></a>test edilmesi<br />
<div class="outline-text-5" id="text-1-1-3-1">
<p>
<b>Not:</b> Master makinada 512MB ram varken salt'ın worker üretemediği görüldü. Ram 2GB olarak ayarlandı.<br />
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo salt <span style="color: #ffa07a;">'*'</span> test.ping
</pre>
</div>
</div>
</li>
<li><a id="org76986a8"></a>shell komutlarının çalıştırılması<br />
<div class="outline-text-5" id="text-1-1-3-2">
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> cmd.run <span style="color: #ffa07a;">'ls -l /etc'</span>
</pre>
</div>
</div>
</li>
<li><a id="orgbdd8e92"></a>salt komutlarının çalıştırılması<br />
<div class="outline-text-5" id="text-1-1-3-3">
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> disk.usage
</pre>
</div>
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> pkg.install cowsay
</pre>
</div>
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> network.interfaces
</pre>
</div>
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> service.restart salt-minion
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org6dda967" class="outline-4">
<h4 id="org6dda967"><span class="section-number-4">1.1.4</span> Minion seçimi ve GRAINS</h4>
<div class="outline-text-4" id="text-1-1-4">
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'minion1'</span> disk.usage <span style="color: #cd853f;"># </span><span style="color: #cd853f;">tek hedef</span>
salt <span style="color: #ffa07a;">'minion*'</span> disk.usage <span style="color: #cd853f;"># </span><span style="color: #cd853f;">GLOBBING</span>
salt -G <span style="color: #ffa07a;">'os:Ubuntu'</span> test.ping <span style="color: #cd853f;"># </span><span style="color: #cd853f;">GRAINS</span>
salt -E <span style="color: #ffa07a;">'minion[0-9]'</span> test.ping <span style="color: #cd853f;"># </span><span style="color: #cd853f;">REGEX</span>
salt -L <span style="color: #ffa07a;">'minion1,minion2'</span> test.ping <span style="color: #cd853f;"># </span><span style="color: #cd853f;">Liste</span>
salt -C <span style="color: #ffa07a;">'G@os:Ubuntu and minion* or S@192.168.50.*'</span> test.ping <span style="color: #cd853f;"># </span><span style="color: #cd853f;">Multiple parameter logical operation</span>
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org80fb465"></a>GRAINS<br />
<div class="outline-text-5" id="text-1-1-4-1">
<p>
Grains are static information SaltStack collects about the underlying managed system. SaltStack collects grains for the operating system, domain name, IP address, kernel, OS type, memory, and many other system properties.<br />
</p>

<p>
You can add your own grains to a Salt minion by placing them in the /etc/salt/grains file on the Salt master, or in the Salt minion configuration file under the grains section. For example, many users add a custom grain called role to each Salt minion to describe the function of the system.<br />
</p>

<p>
You can use the <b>grains.ls</b> command to list all of the grains on a Salt minion. <b>grains.items</b> to get key value pairs.<br />
</p>

<pre class="example">
salt 'i2' grains.ls
salt 'i2' grains.items
salt 'i2' grains.get 'roles'
</pre>

<p>
<a href="https://docs.saltstack.com/en/latest/topics/grains/">https://docs.saltstack.com/en/latest/topics/grains/</a><br />
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org4e437f9" class="outline-4">
<h4 id="org4e437f9"><span class="section-number-4">1.1.5</span> State File</h4>
<div class="outline-text-4" id="text-1-1-5">
<p>
salt master'ın /srv/salt dizininde nettools.sls dosyasının bulunması gerekiyor. İstenirse aşağıdaki gibi Vagrant dosyasında paylaşım yapılıp dosya local makinada tutulabilir. Önemli nokta *.sls dosyalarının master makinanın /srv/salt dizini altında tutulmasıdır.<br />
</p>

<p>
Vagrantfile<br />
</p>
<div class="org-src-container">
<pre class="src src-ruby">config.vm.synced_folder <span style="color: #ffa07a;">"salt_states"</span>, <span style="color: #ffa07a;">"/srv/salt"</span>
</pre>
</div>
<p>
nettools.sls<br />
</p>
<div class="org-src-container">
<pre class="src src-yaml">install_network_packages:
  pkg.installed:
    - pkgs:
      - rsync
      - lftp
      - curl

</pre>
</div>

<p>
Aşağıdaki komut ile ilgili minionda pkg.installed komutuna rsync, lftp, curl parametreleri verilerek çalıştırılmış ve kontrol edilmiş olur.<br />
</p>
<div class="org-src-container">
<pre class="src src-bash">salt <span style="color: #ffa07a;">'minion2'</span> state.apply nettools
</pre>
</div>

<p>
Çıktı<br />
</p>
<div class="org-src-container">
<pre class="src src-text">----------
          ID: install_network_packages
    Function: pkg.installed
      Result: True
     Comment: The following packages were installed/updated: lftp
              The following packages were already installed: rsync, curl
     Started: 11:20:33.574487
    Duration: 12420.049 ms
     Changes:   
              ----------
              lftp:
                  ----------
                  new:
                      4.8.1-1ubuntu0.1
                  old:

Summary for i1
------------
Succeeded: 1 (changed=1)
Failed:    0
------------
Total states run:     1
Total run time:  12.420 s
</pre>
</div>
</div>
</div>
<div id="outline-container-org3ee5cd2" class="outline-4">
<h4 id="org3ee5cd2"><span class="section-number-4">1.1.6</span> Top File</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
Top dosyası(top.sls) statelerin birleştirilerek kullanıldığı, anladığım kadarıyla sistemin olması gereken halini anlatan bir dosya. 'sudo salt "*" state.apply' komutu verildiğinde bütün minionlar master'ın /srv/salt dizini altındaki top.sls dosyasını çekip kendilerinde çalıştırırlar. Bu dosyanın içinde hangi hedefte hangi statelerin çalıştırılacağı bulunur.<br />
"The Top file is used to apply multiple state files to your Salt minions during a highstate. The states that are applied to each system are determined by the targets that are specified in the Top file."<br />
</p>
</div>
</div>
</div>

<div id="outline-container-org0f82857" class="outline-3">
<h3 id="org0f82857"><span class="section-number-3">1.2</span> Configuration Management</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<a href="https://docs.saltstack.com/en/getstarted/config/functions.html">https://docs.saltstack.com/en/getstarted/config/functions.html</a><br />
</p>
</div>
<div id="outline-container-orge9387df" class="outline-4">
<h4 id="orge9387df"><span class="section-number-4">1.2.1</span> State Function</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
state file syntax<br />
</p>
<div class="org-src-container">
<pre class="src src-text">ID_UNIQUE:
   module.function
     - name: name
     - argument: value
     - argument:
       - value1
       - value2
</pre>
</div>

<p>
<b>!!!</b>: file.managed, file.directory, cmd.run, pkg.installed, git.latest, service.running, host.present, module.run<br />
</p>
</div>
</div>
<div id="outline-container-orgaf30b3a" class="outline-4">
<h4 id="orgaf30b3a"><span class="section-number-4">1.2.2</span> Pillar</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Salt pillar is a system that lets you define secure data that are ‘assigned’ to one or more minions using targets. Salt pillar data stores values such as ports, file paths, configuration parameters, and passwords.<br />
</p>

<p>
saltstack/pillar/top.sls<br />
</p>
<pre class="example">
base:
  '*':
    - default
</pre>

<p>
saltstack/pillar/default.sls<br />
</p>
<pre class="example">
editor: vim
ftpusername: me
ftppassword: oxfm4@8t5gglu^h^&amp;
</pre>

<p>
refresh salt pillar on all minions<br />
</p>
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> saltutil.refresh_pillar
</pre>
</div>

<p>
state example<br />
</p>
<pre class="example">
vim installed:
  pkg.installed:
    - name: {{ pillar['editor'] }}
sync directory using lftp:
  cmd.run:
    - name: lftp -c "open -u {{ pillar['ftpusername'] }},{{ pillar['ftppassword'] }} -p 22 sftp://example.com;mirror -c -R /local /remote"
</pre>

<p>
salt pillar in command line<br />
</p>
<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> state.apply ftpsync <span style="color: #9acd32;">pillar</span>=<span style="color: #ffa07a;">'{"ftpusername": "test", "ftppassword": "0ydyfww3giq8"}'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc2290d4" class="outline-4">
<h4 id="orgc2290d4"><span class="section-number-4">1.2.3</span> Include state</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
srv/salt/lftp.sls<br />
</p>
<pre class="example">
install lftp:
  pkg.installed:
    - name: lftp
</pre>

<p>
srv/salt/dir-sync.sls<br />
</p>
<pre class="example">
include:
  - lftp

sync directory using lftp:
  cmd.run:
    - name: lftp -c "open -u {{ pillar['ftpusername'] }},{{ pillar['ftppassword'] }} -p 22 sftp://example.com;mirror -c -R /local /remote"
</pre>
</div>
</div>
<div id="outline-container-orgeddd2c1" class="outline-4">
<h4 id="orgeddd2c1"><span class="section-number-4">1.2.4</span> Ordering &amp; Requisites</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
By default, each ID in a Salt state file is executed in the order it appears in the file. Additionally, in the Top file, each Salt state file is applied in the order listed. <b>require</b> keywork in state.<br />
</p>
</div>
</div>
<div id="outline-container-org4ba1a2a" class="outline-4">
<h4 id="org4ba1a2a"><span class="section-number-4">1.2.5</span> Jinja</h4>
<div class="outline-text-4" id="text-1-2-5">
<p>
Template language that can be used in static files that should be temple :D<br />
</p>

<p>
Example pillar file<br />
</p>
<pre class="example">
{% if grains['os_family'] == 'RedHat' %}
apache: httpd
git: git
{% elif grains['os_family'] == 'Debian' %}
apache: apache2
git: git-core
{% endif %}
</pre>

<div class="org-src-container">
<pre class="src src-shell">salt <span style="color: #ffa07a;">'*'</span> saltutil.refresh_pillar
salt <span style="color: #ffa07a;">'*'</span> pillar.items
</pre>
</div>

<p>
Usage in state file<br />
</p>
<pre class="example">
install apache:
  pkg.installed:
    - name: {{ pillar['apache'] }}
</pre>
</div>
</div>
<div id="outline-container-orgdc28914" class="outline-4">
<h4 id="orgdc28914"><span class="section-number-4">1.2.6</span> Manage files !!</h4>
<div class="outline-text-4" id="text-1-2-6">
<p>
<b>SALT://</b><br />
Minion can reach masters <i>srv/salt directory using salt:/</i> url<br />
</p>

<pre class="example">
deploy the http.conf file:
  file.managed:
    - name: /etc/http/conf/http.conf
    - source: salt://apache/http.conf

copy some files to the web server:
  file.recurse:
    - name: /var/www
    - source: salt://apache/www
</pre>
</div>
</div>
</div>
<div id="outline-container-orgec1aa62" class="outline-3">
<h3 id="orgec1aa62"><span class="section-number-3">1.3</span> Diff Files Across Salt Minions</h3>
<div class="outline-text-3" id="text-1-3">
<pre class="example">
salt-run survey.diff 'web*' cmd.run 'cat /etc/ntp.conf'
</pre>
</div>
</div>
<div id="outline-container-orgab6ea31" class="outline-3">
<h3 id="orgab6ea31"><span class="section-number-3">1.4</span> Resource</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>Modules<br />
<a href="https://docs.saltstack.com/en/latest/ref/modules/all/index.html">https://docs.saltstack.com/en/latest/ref/modules/all/index.html</a> (IMPORTANT)<br /></li>
<li>Runners<br />
<a href="https://docs.saltstack.com/en/latest/ref/runners/all/">https://docs.saltstack.com/en/latest/ref/runners/all/</a><br /></li>
<li>Minion Configuration<br />
<a href="https://docs.saltstack.com/en/latest/ref/configuration/minion.html">https://docs.saltstack.com/en/latest/ref/configuration/minion.html</a><br /></li>
</ul>
</div>
</div>
<div id="outline-container-org6eaabb3" class="outline-3">
<h3 id="org6eaabb3"><span class="section-number-3">1.5</span> Further Readings</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li><a href="https://github.com/saltstack-formulas">https://github.com/saltstack-formulas</a><br /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org96ca9ae" class="outline-2">
<h2 id="org96ca9ae"><span class="section-number-2">2</span> Bağlantılar</h2>
<div class="outline-text-2" id="text-2">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<center>
<p>
<a href="blog.html">Blog</a> <a href="bash.html">Bash</a> <a href="baslangiclar.html">Başlangıç</a> <a href="muzik.html">Müzik</a> <a href="okunacaklar.html">Okunacaklar</a> <a href="notlar.html">Notlar</a> <a href="projeler.html">Projeler</a> <a href="sozler.html">Sözler</a> <a href="tatil_rotalari.html">Tatil Rotaları</a> <a href="emacs.html">Emacs</a> <a href="index.html">Ana Sayfa</a><br />
</p>
<a href="https://umtmu.wordpress.com/"><img src="img/wp.png" width="2%" height="2%"></a>&nbsp&nbsp
<a href="#"><img src="img/yukari.png" width="2%" height="2%"></a>&nbsp&nbsp
<a href="https://www.instagram.com/kalemiolanadam/"><img src="img/ins.png" width="2%" height="2%"></a>
</center>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: umt</p>
<p class="date">Created: 2018-09-04 Tue 09:36</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
