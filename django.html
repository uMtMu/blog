<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>uMtMu</title>
<!-- 2017-05-31 Çrş 22:11 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="umt" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">uMtMu</h1>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<script src="js/scripts.js"></script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<div class="center">

<div class="figure">
<p><img src="img/ja2.png" alt="ja2.png" /><br  />
</p>
</div>
</div>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Yol</a>
<ul>
<li><a href="#sec-1-1">1.1. Writing your first Django app, part 1</a></li>
<li><a href="#sec-1-2">1.2. Writing your first Django app, part 2</a></li>
<li><a href="#sec-1-3">1.3. Writing your first Django app, part 3</a></li>
<li><a href="#sec-1-4">1.4. Writing your first Django app, part 4</a></li>
<li><a href="#sec-1-5">1.5. Writing your first Django app, part 5</a></li>
<li><a href="#sec-1-6">1.6. Writing your first Django app, part 6</a></li>
<li><a href="#sec-1-7">1.7. Writing your first Django app, part 7</a></li>
<li><a href="#sec-1-8">1.8. Yerelleştirme ve Çeviri</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Araştırılacak <code>[0/3]</code></a></li>
<li><a href="#sec-3">3. Bağlantılar</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Yol</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Writing your first Django app, part 1</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> Virtul Env</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> Projenin oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
django_env/<br  />
   &#x2026; mydj_sites/<br  />
<b>root directory is just a container for your project. Its name doesn’t matter to Django; you can rename it to anything you like.</b>  <br  />
├── manage.py<br  />
<b>A command-line utility that lets you interact with this Django project in various ways.</b> <br  />
└── mydj_sites <br  />
<b>directory is the actual Python package for your project. Its name is the<br  />
Python package name you’ll need to use to import anything inside it</b> <br  />
           ├── <span class="underline"><span class="underline">init</span></span>.py<br  />
           ├── settings.py<br  />
           ├── urls.py<br  />
           └── wsgi.py<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-1-3" class="outline-4">
<h4 id="sec-1-1-3"><span class="section-number-4">1.1.3</span> Geliştirme sunucusu</h4>
<div class="outline-text-4" id="text-1-1-3">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
python manage.py runserver<br  />
Performing system checks&#x2026;<br  />
</p>

<p>
System check identified no issues (0 silenced).<br  />
</p>

<p>
You have 13 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br  />
Run 'python manage.py migrate' to apply them.<br  />
</p>

<p>
September 04, 2016 - 18:52:28<br  />
Django version 1.10.1, using settings 'mydj_sites.settings'<br  />
Starting development server at <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a><br  />
Quit the server with CONTROL-C.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-1-4" class="outline-4">
<h4 id="sec-1-1-4"><span class="section-number-4">1.1.4</span> İlk uygulamanın oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-4">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
Oluşan dizin yapısı polls/<br  />
├── admin.py<br  />
├── apps.py<br  />
├── <span class="underline"><span class="underline">init</span></span>.py<br  />
├── migrations<br  />
│   └── <span class="underline"><span class="underline">init</span></span>.py<br  />
├── models.py<br  />
├── tests.py<br  />
└── views.py<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-1-5" class="outline-4">
<h4 id="sec-1-1-5"><span class="section-number-4">1.1.5</span> İlk view'ın oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-5">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-1-6" class="outline-4">
<h4 id="sec-1-1-6"><span class="section-number-4">1.1.6</span> polls dizini altında urls.py dosyasının oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-6">
<div class="org-src-container">

<pre class="src src-python">    url(r<span style="color: #deb887;">'^$'</span>, views.index, name=<span style="color: #deb887;">'index'</span>),
]
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-1-7" class="outline-4">
<h4 id="sec-1-1-7"><span class="section-number-4">1.1.7</span> mydj_sites/mydj_sites/mydj_sites dizinindeki urls.py içeriğine yönlendirme ekleme</h4>
<div class="outline-text-4" id="text-1-1-7">
<div class="org-src-container">

<pre class="src src-python">    url(r<span style="color: #deb887;">'^polls/'</span>, include(<span style="color: #deb887;">'polls.urls'</span>)), url(r<span style="color: #deb887;">'^admin/'</span>, admin.site.urls),
]
</pre>
</div>
<p>
<a href="http://localhost:8000/polls/">http://localhost:8000/polls/</a><br  />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Writing your first Django app, part 2</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> Veri tabanının ayarlanması mydj_sites/mydj_sites/mydj_sites/settings.py dosyası içerisinde veri tabanı olarak sqlite seçili. INSTALLED_APPS dizisi içerisinde belirlenmiş uygulamalar için veri tabanında tablolar oluşturulmalı.</h4>
<div class="outline-text-4" id="text-1-2-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Veri tabanı modellerinin oluşturulması polls/models.py</h4>
<div class="outline-text-4" id="text-1-2-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> Modellerin aktive edilmesi</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Veri tabanı şemasının oluşturulması<br  />
Veri tabanı objelerinin oluşturulması<br  />
</p>

<p>
Yukarıda belirtilen eylemler, polls uygulamasının mydj_sites/mydj_sites/mydj_sites/settings.py dosyası INSTALLED_APPS<br  />
listesinin içerisine "'polls.apps.PollsConfig'," olarak eklenmesi gerekir.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
makemigrations komutu ile yeni eklenen uygulamalar olduğunu ve bu uygulamalar için gerekli veri tabanı değişikliklerinin yapılacağı bilgisi verilmektedir. Daha önce bu işlem için south uygulaması kullanılmıştı. Bu yöntem ile veri tabanı değişiklikleri sürüm kontrol sistemi altında tutulmuş. python manage.py makemigrations polls<br  />
Migrations for 'polls':<br  />
polls/migrations/0001_initial.py:<br  />
</p>
<ul class="org-ul">
<li>Create model Choice<br  />
</li>
<li>Create model Question<br  />
</li>
<li>Add field question to choice polls/migrations/0001_initial.py dosyasının aldında ilgili migration ile ilgili işlemler bulunmaktadır.<br  />
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-4" class="outline-4">
<h4 id="sec-1-2-4"><span class="section-number-4">1.2.4</span> API ile oynamak ??</h4>
<div class="outline-text-4" id="text-1-2-4">
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; import django
&gt;&gt;&gt; django.setup()
&gt;&gt;&gt; from polls.models import Question, Choice   <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Import the model classes we just wrote.</span>

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">No questions are in the system yet.</span>
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet []&gt;

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Create a new Question.</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Support for time zones is enabled in the default settings file, so</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Django expects a datetime with tzinfo for pub_date. Use timezone.now()</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">instead of datetime.datetime.now() and it will do the right thing.</span>
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; q = Question(<span style="color: #4eee94;">question_text</span>=<span style="color: #deb887;">"What's new?"</span>, <span style="color: #4eee94;">pub_date</span>=timezone.now())

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Save the object into the database. You have to call save() explicitly.</span>
&gt;&gt;&gt; q.save()

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Now it has an ID. Note that this might say "1L" instead of "1", depending</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">on which database you're using. That's no biggie; it just means your</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">database backend prefers to return integers as Python long integer</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">objects.</span>
&gt;&gt;&gt; q.id
1

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Access model field values via Python attributes.</span>
&gt;&gt;&gt; q.question_text
<span style="color: #deb887;">"What's new?"</span>
&gt;&gt;&gt; q.pub_date datetime.datetime(2012, 2, 26, 13, 0, 0, 775217, <span style="color: #4eee94;">tzinfo</span>=&lt;UTC&gt;)

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Change values by changing the attributes, then calling save().</span>
&gt;&gt;&gt; q.question_text = <span style="color: #deb887;">"What's up?"</span>
&gt;&gt;&gt; q.save()

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">objects.all() displays all the questions in the database.</span>
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet [&lt;Question: Question object&gt;]&gt;
</pre>
</div>

<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from polls.models import Question, Choice

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Make sure our __str__() addition worked.</span>
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet [&lt;Question: What<span style="color: #deb887;">'s up?&gt;]&gt;</span>

<span style="color: #deb887;"># Django provides a rich database lookup API that'</span>s entirely driven by
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">keyword arguments.</span>
&gt;&gt;&gt; Question.objects.filter(<span style="color: #4eee94;">id</span>=1)
&lt;QuerySet [&lt;Question: What<span style="color: #deb887;">'s up?&gt;]&gt;</span>
<span style="color: #deb887;">&gt;&gt;&gt; Question.objects.filter(question_text__startswith='</span>What<span style="color: #deb887;">')</span>
<span style="color: #deb887;">&lt;QuerySet [&lt;Question: What'</span>s up?&gt;]&gt;

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Get the question that was published this year.</span>
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; current_year = timezone.now().year
&gt;&gt;&gt; Question.objects.get(<span style="color: #4eee94;">pub_date__year</span>=current_year)
&lt;Question: What<span style="color: #deb887;">'s up?&gt;</span>

<span style="color: #deb887;"># Request an ID that doesn'</span>t exist, this will raise an exception.
&gt;&gt;&gt; Question.objects.get(<span style="color: #4eee94;">id</span>=2)
<span style="color: #daa520;">Traceback</span> (most recent call last):
    ...
DoesNotExist: Question matching query does not exist.

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Lookup by a primary key is the most common case, so Django provides a</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">shortcut for primary-key exact lookups.</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">The following is identical to Question.objects.get(id=1).</span>
&gt;&gt;&gt; Question.objects.get(<span style="color: #4eee94;">pk</span>=1)
&lt;Question: What<span style="color: #deb887;">'s up?&gt;</span>

<span style="color: #deb887;"># Make sure our custom method worked.</span>
<span style="color: #deb887;">&gt;&gt;&gt; q = Question.objects.get(pk=1)</span>
<span style="color: #deb887;">&gt;&gt;&gt; q.was_published_recently()</span>
<span style="color: #deb887;">True</span>

<span style="color: #deb887;"># Give the Question a couple of Choices. The create call constructs a new</span>
<span style="color: #deb887;"># Choice object, does the INSERT statement, adds the choice to the set</span>
<span style="color: #deb887;"># of available choices and returns the new Choice object. Django creates</span>
<span style="color: #deb887;"># a set to hold the "other side" of a ForeignKey relation</span>
<span style="color: #deb887;"># (e.g. a question'</span>s choice) which can be accessed via the API.
&gt;&gt;&gt; q = Question.objects.get(<span style="color: #4eee94;">pk</span>=1)

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Display any choices from the related object set -- none so far.</span>
&gt;&gt;&gt; q.choice_set.all()
&lt;QuerySet []&gt;

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Create three choices.</span>
&gt;&gt;&gt; q.choice_set.create(<span style="color: #4eee94;">choice_text</span>=<span style="color: #deb887;">'Not much'</span>, <span style="color: #4eee94;">votes</span>=0)
&lt;Choice: Not much&gt;
&gt;&gt;&gt; q.choice_set.create(<span style="color: #4eee94;">choice_text</span>=<span style="color: #deb887;">'The sky'</span>, <span style="color: #4eee94;">votes</span>=0)
&lt;Choice: The sky&gt;
&gt;&gt;&gt; c = q.choice_set.create(<span style="color: #4eee94;">choice_text</span>=<span style="color: #deb887;">'Just hacking again'</span>, <span style="color: #4eee94;">votes</span>=0)

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Choice objects have API access to their related Question objects.</span>
&gt;&gt;&gt; c.question
&lt;Question: What<span style="color: #deb887;">'s up?&gt;</span>

<span style="color: #deb887;"># And vice versa: Question objects get access to Choice objects.</span>
<span style="color: #deb887;">&gt;&gt;&gt; q.choice_set.all()</span>
<span style="color: #deb887;">&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;</span>
<span style="color: #deb887;">&gt;&gt;&gt; q.choice_set.count()</span>
<span style="color: #deb887;">3</span>

<span style="color: #deb887;"># The API automatically follows relationships as far as you need.</span>
<span style="color: #deb887;"># Use double underscores to separate relationships.</span>
<span style="color: #deb887;"># This works as many levels deep as you want; there'</span>s no limit.
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Find all Choices for any question whose pub_date is in this year</span>
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">(reusing the 'current_year' variable we created above).</span>
&gt;&gt;&gt; Choice.objects.filter(<span style="color: #4eee94;">question__pub_date__year</span>=current_year)
&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;

<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Let's delete one of the choices. Use delete() for that.</span>
&gt;&gt;&gt; c = q.choice_set.filter(<span style="color: #4eee94;">choice_text__startswith</span>=<span style="color: #deb887;">'Just hacking'</span>)
&gt;&gt;&gt; c.delete()
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-5" class="outline-4">
<h4 id="sec-1-2-5"><span class="section-number-4">1.2.5</span> Django Admin</h4>
<div class="outline-text-4" id="text-1-2-5">
</div><ol class="org-ol"><li><a id="sec-1-2-5-1" name="sec-1-2-5-1"></a>admin kullanıcısı oluşturma<br  /><div class="outline-text-5" id="text-1-2-5-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
<a href="http://127.0.0.1:8000/admin/">http://127.0.0.1:8000/admin/</a><br  />
</p>
</div>
</li>
<li><a id="sec-1-2-5-2" name="sec-1-2-5-2"></a>polls uygulamasını admin penceresi üzerinde erişime açma polls/admin.py<br  /><div class="outline-text-5" id="text-1-2-5-2">
<div class="org-src-container">

<pre class="src src-python"></pre>
</div>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Writing your first Django app, part 3</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> Başlıklar</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>Blog homepage – displays the latest few entries.<br  />
</li>
<li>Entry “detail” page – permalink page for a single entry.<br  />
</li>
<li>Year-based archive page – displays all months with entries in the given year.<br  />
</li>
<li>Month-based archive page – displays all days with entries in the given month.<br  />
</li>
<li>Day-based archive page – displays all entries in the given day.<br  />
</li>
<li>Comment action – handles posting comments to a given entry.<br  />
</li>
</ul>
<p>
In our poll application, we’ll have the following four views:<br  />
</p>
<ul class="org-ul">
<li>Question “index” page – displays the latest few questions.<br  />
</li>
<li>Question “detail” page – displays a question text, with no results but with a form to vote.<br  />
</li>
<li>Question “results” page – displays results for a particular question.<br  />
</li>
<li>Vote action – handles voting for a particular choice in a particular question.<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> Daha fazla view polls/views.py</h4>
<div class="outline-text-4" id="text-1-3-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
polls/urls.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">    <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">ex: /polls/</span>
    url(r<span style="color: #deb887;">'^$'</span>, views.index, name=<span style="color: #deb887;">'index'</span>),
    <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">ex: /polls/5/</span>
    url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/$'</span>, views.detail, name=<span style="color: #deb887;">'detail'</span>),
    <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">ex: /polls/5/results/</span>
    url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/results/$'</span>, views.results, name=<span style="color: #deb887;">'results'</span>),
    <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">ex: /polls/5/vote/</span>
    url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/vote/$'</span>, views.vote, name=<span style="color: #deb887;">'vote'</span>),
]
</pre>
</div>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
View kulllanımındaki problem sayfa tasarımının hard-coded olarak yapılmış olmasıdır. Bunun önüne geçmek için django template dili kullanılabilir.<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>


<p>
polls/templates/polls/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"> {% <span style="color: #00bfff;">if</span> latest_question_list %}
    &lt;ul&gt;
    {% <span style="color: #00bfff;">for</span> question <span style="color: #00bfff;">in</span> latest_question_list %}
        &lt;li&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"/polls/{{ question.id }}/"</span>&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;
{% <span style="color: #00bfff;">else</span> %}
    &lt;p&gt;No polls are available.&lt;/p&gt;
{% endif %}
</pre>
</div>

<p>
Şimdi de polls/views.py dosyamızın oluşturduğumuz template'i kullanmasını sağlayalım.<br  />
</p>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3"><span class="section-number-4">1.3.3</span> Bir kısayol: render()</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
<b>HttpResponse(template.render(context, request))</b> yerine <b>return render(request, 'polls/index.html', context)</b> kulllandık. Ayrıca <b>loader</b><br  />
ve <b>HttpReponse</b> yerine sadece <b>render</b> import etmemiz yeterli oldu. Ancak render gerektirmeyen <b>static sayfalarınız</b> için hala loader ve HttpResponse sınıflarını kullanmanız gerekir.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-3-4" class="outline-4">
<h4 id="sec-1-3-4"><span class="section-number-4">1.3.4</span> 404 hatası oluşturmak polls/views.py</h4>
<div class="outline-text-4" id="text-1-3-4">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #00bfff;">from</span> django.shortcuts <span style="color: #00bfff;">import</span> render <span style="color: #00bfff;">from</span> .models <span style="color: #00bfff;">import</span> Question
<span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">... def detail(request, question_id):</span>
    <span style="color: #00bfff;">try</span>:
        <span style="color: #4eee94;">question</span> = Question.objects.get(pk=question_id)
    <span style="color: #00bfff;">except</span> Question.DoesNotExist:
        <span style="color: #00bfff;">raise</span> Http404(<span style="color: #deb887;">"Question does not exist"</span>)
    <span style="color: #00bfff;">return</span> render(request, <span style="color: #deb887;">'polls/detail.html'</span>, {<span style="color: #deb887;">'question'</span>: question})
</pre>
</div>

<p>
polls/templates/polls/detail.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">{{ question }}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-5" class="outline-4">
<h4 id="sec-1-3-5"><span class="section-number-4">1.3.5</span> Bir başka kısayol: get_object_or_404()</h4>
<div class="outline-text-4" id="text-1-3-5">
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">... def detail(request, question_id):</span>
    <span style="color: #4eee94;">question</span> = get_object_or_404(Question, pk=question_id)
    <span style="color: #00bfff;">return</span> render(request, <span style="color: #deb887;">'polls/detail.html'</span>, {<span style="color: #deb887;">'question'</span>: question})
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-6" class="outline-4">
<h4 id="sec-1-3-6"><span class="section-number-4">1.3.6</span> template sistemini kullanalım polls/templates/polls/detail.html</h4>
<div class="outline-text-4" id="text-1-3-6">
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;
&lt;ul&gt;
 {% <span style="color: #00bfff;">for</span> choice <span style="color: #00bfff;">in</span> question.choice_set.<span style="color: #f08080;">all</span> %}
    &lt;li&gt;{{ choice.choice_text }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-7" class="outline-4">
<h4 id="sec-1-3-7"><span class="section-number-4">1.3.7</span> Hardcoded URL'lerin kaldırılması polls/templates/polls/index.html</h4>
<div class="outline-text-4" id="text-1-3-7">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #7f7f7f;">#</span><span style="color: #7f7f7f;">&lt;li&gt;&lt;a href="/polls/{{ question.id }}/"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;</span>
&lt;li&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'detail' question.id %}"</span>&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-8" class="outline-4">
<h4 id="sec-1-3-8"><span class="section-number-4">1.3.8</span> URL isim uzaylarının oluşturulması polls uygulamasında "details" url'i olduğu gibi başka bir uygulamada da</h4>
<div class="outline-text-4" id="text-1-3-8">
<p>
"details" url'i olabilir. Djangonun bunu ayırt edebilmesi için aşağıdaki işlemler yapılmalıdır. polls/urls.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #4eee94;">urlpatterns</span> = [
    url(r<span style="color: #deb887;">'^$'</span>, views.index, name=<span style="color: #deb887;">'index'</span>), url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/$'</span>, views.detail, name=<span style="color: #deb887;">'detail'</span>), url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/results/$'</span>, views.results, name=<span style="color: #deb887;">'results'</span>), url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/vote/$'</span>, views.vote, name=<span style="color: #deb887;">'vote'</span>),
]
</pre>
</div>

<p>
polls/templates/polls/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">/*&lt;li&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'detail' question.id %}"</span>&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;*/
&lt;li&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'polls:detail' question.id %}"</span>&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Writing your first Django app, part 4</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> Basit bir form</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
polls/templates/polls/detail.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;

{% <span style="color: #00bfff;">if</span> error_message %}&lt;p&gt;&lt;strong&gt;{{ error_message }}&lt;/strong&gt;&lt;/p&gt;{% endif %}

&lt;form <span style="color: #4eee94;">action</span>=<span style="color: #deb887;">"{% url 'polls:vote' question.id %}"</span> <span style="color: #4eee94;">method</span>=<span style="color: #deb887;">"post"</span>&gt;
{% csrf_token %}
{% <span style="color: #00bfff;">for</span> choice <span style="color: #00bfff;">in</span> question.choice_set.<span style="color: #f08080;">all</span> %}
    &lt;<span style="color: #f08080;">input</span> <span style="color: #f08080;">type</span>=<span style="color: #deb887;">"radio"</span> <span style="color: #4eee94;">name</span>=<span style="color: #deb887;">"choice"</span> <span style="color: #f08080;">id</span>=<span style="color: #deb887;">"choice{{ forloop.counter }}"</span> <span style="color: #4eee94;">value</span>=<span style="color: #deb887;">"{{ choice.id }}"</span> /&gt;
    &lt;label <span style="color: #00bfff;">for</span>=<span style="color: #deb887;">"choice{{ forloop.counter }}"</span>&gt;{{ choice.choice_text }}&lt;/label&gt;&lt;br /&gt;
{% endfor %}
&lt;<span style="color: #f08080;">input</span> <span style="color: #f08080;">type</span>=<span style="color: #deb887;">"submit"</span> <span style="color: #4eee94;">value</span>=<span style="color: #deb887;">"Vote"</span> /&gt;
&lt;/form&gt;
</pre>
</div>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">... def vote(request, question_id):</span>
    <span style="color: #4eee94;">question</span> = get_object_or_404(Question, pk=question_id)
    <span style="color: #00bfff;">try</span>:
        <span style="color: #4eee94;">selected_choice</span> = question.choice_set.get(pk=request.POST[<span style="color: #deb887;">'choice'</span>])
    <span style="color: #00bfff;">except</span> (<span style="color: #98f5ff;">KeyError</span>, Choice.DoesNotExist):
        <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Redisplay the question voting form. return render(request, 'polls/detail.html', {</span>
            <span style="color: #deb887;">'question'</span>: question,
            <span style="color: #deb887;">'error_message'</span>: <span style="color: #deb887;">"You didn't select a choice."</span>,
        })
    <span style="color: #00bfff;">else</span>:
        <span style="color: #4eee94;">selected_choice.votes</span> += 1
        selected_choice.save()
        <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">Always return an HttpResponseRedirect after successfully dealing</span>
        <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">with POST data. This prevents data from being posted twice if a</span>
        <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">user hits the Back button. return HttpResponseRedirect(reverse('polls:results', args=(question.id,)))</span>
</pre>
</div>
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
polls/templates/polls/results.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;

&lt;ul&gt;
{% <span style="color: #00bfff;">for</span> choice <span style="color: #00bfff;">in</span> question.choice_set.<span style="color: #f08080;">all</span> %}
    &lt;li&gt;{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;

&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'polls:detail' question.id %}"</span>&gt;Vote again?&lt;/a&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> Generic viewlar</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
These views represent a common case of basic Web development:<br  />
</p>
<ul class="org-ul">
<li>getting data from the database according to a parameter passed in the URL,<br  />
</li>
<li>loading a template and returning the rendered template.<br  />
</li>
</ul>

<p>
Because this is so common, Django provides a shortcut, called the “generic views” system.<br  />
</p>
</div>

<ol class="org-ol"><li><a id="sec-1-4-2-1" name="sec-1-4-2-1"></a>urls.py'nin güncellenmesi polls/urls.py<br  /><div class="outline-text-5" id="text-1-4-2-1">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #4eee94;">urlpatterns</span> = [
    url(r<span style="color: #deb887;">'^$'</span>, views.IndexView.as_view(), name=<span style="color: #deb887;">'index'</span>), url(r<span style="color: #deb887;">'^(?P&lt;pk&gt;[0-9]+)/$'</span>, views.DetailView.as_view(), name=<span style="color: #deb887;">'detail'</span>), url(r<span style="color: #deb887;">'^(?P&lt;pk&gt;[0-9]+)/results/$'</span>, views.ResultsView.as_view(), name=<span style="color: #deb887;">'results'</span>), url(r<span style="color: #deb887;">'^(?P&lt;question_id&gt;[0-9]+)/vote/$'</span>, views.vote, name=<span style="color: #deb887;">'vote'</span>),
]
</pre>
</div>
<p>
<b>Önemli</b> url(r'^(?P&amp;lt;pk&amp;gt;[0-9]+)/$', views.DetailView.as_view(), name='detail'),  &lt;pk&gt; yazan yerde daha önceden &lt;question_id&gt; yazıyordu. Bu değişikliğin sebebi, generic viewların primary_key ile çalışıyor olması<br  />
</p>
</div>
</li>
<li><a id="sec-1-4-2-2" name="sec-1-4-2-2"></a>views.py'nin güncellenmesi polls/views.py<br  /><div class="outline-text-5" id="text-1-4-2-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
DetailView varsayılan olarak &lt;app name&gt;/templates/&lt;app name&gt;/&lt;model name&gt;_detail.html dosyasını template olarak kullanır. Bizim durumumuzda bu dosya question_detail.html olacaktı. template_name değişkeni ile bunu değiştirdik.<br  />
Aynı şekilde ListView de varsayılan olarak &lt;app name&gt;/templates/&lt;app name&gt;/&lt;model name&gt;_list.html kullanacaktı.<br  />
</p>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Writing your first Django app, part 5</h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> Otomatik testler (ilginç bir konu)</h4>
<div class="outline-text-4" id="text-1-5-1">
</div><ol class="org-ol"><li><a id="sec-1-5-1-1" name="sec-1-5-1-1"></a>Neden test?<br  /><div class="outline-text-5" id="text-1-5-1-1">
<p>
Otomatik testler 3 farklı fazda yazılabilir. Başta, sonda, ortada :D<br  />
</p>

<p>
<b>We identify a bug</b><br  />
Fortunately, there’s a little bug in the polls application for us to fix right away: the Question.was_published_recently() method returns True if the<br  />
Question was published within the last day (which is correct) but also if the Question’s pub_date field is in the future (which certainly isn’t).<br  />
</p>
</div>
</li>

<li><a id="sec-1-5-1-2" name="sec-1-5-1-2"></a>Nasıl test?<br  /><div class="outline-text-5" id="text-1-5-1-2">
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; import datetime
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; from polls.models import Question
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">create a Question instance with pub_date 30 days in the future</span>
&gt;&gt;&gt; future_question = Question(<span style="color: #4eee94;">pub_date</span>=timezone.now() + datetime.timedelta(<span style="color: #4eee94;">days</span>=30))
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">was it published recently?</span>
&gt;&gt;&gt; future_question.was_published_recently()
True
</pre>
</div>

<p>
Yukarıda görüldüğü gibi yayın tarihi gelecekte olan bir soru için de yakın zamanda yayınlanmış cevabı dönüyor. polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Testlerin çalıştırılması<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> Bug'ın düzeltilmesi polls/models.py</h4>
<div class="outline-text-4" id="text-1-5-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-3" class="outline-4">
<h4 id="sec-1-5-3"><span class="section-number-4">1.5.3</span> Daha karmaşık örnekler</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
While we’re here, we can further pin down the was_published_recently()<br  />
method; in fact, it would be positively embarrassing if in fixing one bug we had introduced another.<br  />
</p>

<p>
polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Bu genişletme ile bu metodun tarih bazında bütün olası girdilerine karşı çıktıları kontrol edilmiş oldu.<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-5-4" class="outline-4">
<h4 id="sec-1-5-4"><span class="section-number-4">1.5.4</span> View'ı test etmek</h4>
<div class="outline-text-4" id="text-1-5-4">
<ul class="org-ul">
<li>Django test istemcisi<br  />
Djangonun sunduğu test istemcisini test.py dosyası üzerinden ya da shell üzerinden kullanabiliriz.<br  />

<p>
Shell üzerinden test.py üzerinden denemeden farklı olarak aşağıdaki iki satır gerekir.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from django.test.utils import setup_test_environment
&gt;&gt;&gt; setup_test_environment()
</pre>
</div>

<p>
setup_test_environment() installs a template renderer which will allow us to examine some additional attributes on responses such as response.context that otherwise wouldn’t be available. Note that this method does not setup a test database, so the following will be run against the existing database and the output may differ slightly depending on what questions you already created. You might get unexpected results if your TIME_ZONE in settings.py isn’t correct. If you don’t remember setting it earlier, check it before continuing.<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from django.test.utils import setup_test_environment
&gt;&gt;&gt; setup_test_environment()
&gt;&gt;&gt; from django.test import Client
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">create an instance of the client for our use</span>
&gt;&gt;&gt; client = Client()       
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">get a response from '/'</span>
&gt;&gt;&gt; response = client.get(<span style="color: #deb887;">'/'</span>)
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">we should expect a 404 from that address</span>
&gt;&gt;&gt; response.status_code
404
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">on the other hand we should expect to find something at '/polls/'</span>
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">we'll use 'reverse()' rather than a hardcoded URL</span>
&gt;&gt;&gt; from django.urls import reverse
&gt;&gt;&gt; response = client.get(reverse(<span style="color: #deb887;">'polls:index'</span>))
&gt;&gt;&gt; response.status_code
200
&gt;&gt;&gt; response.content b<span style="color: #deb887;">'\n    &lt;ul&gt;\n    \n        &lt;li&gt;&lt;a href="/polls/1/"&gt;What&amp;#39;s up?&lt;/a&gt;&lt;/li&gt;\n    \n    &lt;/ul&gt;\n\n'</span>
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">If the following doesn't work, you probably omitted the call to</span>
&gt;&gt;&gt; <span style="color: #7f7f7f;"># </span><span style="color: #7f7f7f;">setup_test_environment() described above</span>
&gt;&gt;&gt; response.context[<span style="color: #deb887;">'latest_question_list'</span>]
&lt;QuerySet [&lt;Question: What<span style="color: #deb887;">'s up?&gt;]&gt;</span>
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-5-5" class="outline-4">
<h4 id="sec-1-5-5"><span class="section-number-4">1.5.5</span> View'ı geliştirelim polls/views.py</h4>
<div class="outline-text-4" id="text-1-5-5">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-6" class="outline-4">
<h4 id="sec-1-5-6"><span class="section-number-4">1.5.6</span> View için otomatik test yazalım</h4>
<div class="outline-text-4" id="text-1-5-6">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-5-7" class="outline-4">
<h4 id="sec-1-5-7"><span class="section-number-4">1.5.7</span> DetailView için test yazılması polls/views.py</h4>
<div class="outline-text-4" id="text-1-5-7">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Writing your first Django app, part 6</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-sec-1-6-1" class="outline-4">
<h4 id="sec-1-6-1"><span class="section-number-4">1.6.1</span> Templateler üzerine deneme (CSS ekleme)</h4>
<div class="outline-text-4" id="text-1-6-1">
</div><ol class="org-ol"><li><a id="sec-1-6-1-1" name="sec-1-6-1-1"></a>görüntü ekleme<br  /><div class="outline-text-5" id="text-1-6-1-1">
<ol class="org-ol">
<li>mydj_sites/mydj_sites/mydj_sites/settings.py dosyasında INSTALLED_APPS listesinde django.contrib.staticfiles yoksa eklenecek.<br  />
</li>
<li>1. adımdaki dosyada STATIC_URL='<i>static</i>' olarak tanımlanacak.<br  />
</li>
<li>static dosyalar polls/static/polls dizini altında olacak. Örnek olarak polls/static/polls/survey.jpg<br  />
</li>
<li>polls/templates/polls/index.html<br  />
<div class="org-src-container">

<pre class="src src-python">{% load static %}
&lt;img <span style="color: #4eee94;">src</span>=<span style="color: #deb887;">"{% static "</span>polls/survey.jpg<span style="color: #deb887;">" %}"</span> <span style="color: #4eee94;">alt</span>=<span style="color: #deb887;">"Oylar&#305; g&#246;relim"</span>/&gt;
{% <span style="color: #00bfff;">if</span> latest_question_list %}
   &lt;ul&gt;
     {% <span style="color: #00bfff;">for</span> question <span style="color: #00bfff;">in</span> latest_question_list %}
           &lt;li&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'polls:detail' question.id %}"</span>&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
     {% endfor %}
   &lt;/ul&gt;
{% <span style="color: #00bfff;">else</span> %}
   &lt;p&gt;No polls are available.&lt;/p&gt;
{% endif %}
</pre>
</div>
</li>
</ol>
</div>
</li>
<li><a id="sec-1-6-1-2" name="sec-1-6-1-2"></a>javascript ve css ekleme mydj_sites/mydj_sites/polls/static/polls<br  /><div class="outline-text-5" id="text-1-6-1-2">
<p>
├── frontend.js<br  />
├── style.css<br  />
└── survey.jpg frontend.js<br  />
</p>
<div class="org-src-container">

<pre class="src src-javascript">$(
    <span style="color: #00bfff;">function</span>() {
        $( <span style="color: #deb887;">"img"</span> ).each( <span style="color: #00bfff;">function</span>() {
            <span style="color: #00bfff;">var</span> <span style="color: #4eee94;">$img</span> = $( <span style="color: #a2cd5a;">this</span> ); <span style="color: #00bfff;">var</span> <span style="color: #4eee94;">img_scale</span> = $img.width() / $img.height();
            $img.width( $img.parent().width() );
            $img.height( $img.height() * $img_scale );
        });
    }
);
</pre>
</div>

<p>
style.css<br  />
</p>
<div class="org-src-container">

<pre class="src src-css">    <span style="color: #4eee94;">margin</span>: auto; <span style="color: #4eee94;">width</span>: 50%; <span style="color: #4eee94;">border</span>: 3px solid green; <span style="color: #4eee94;">padding</span>: 10px;
}
</pre>
</div>

<p>
templates/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-html">{% load static %}
&lt;<span style="color: #daa520;">script</span> <span style="color: #4eee94;">src</span>=<span style="color: #deb887;">"https://code.jquery.com/jquery-3.1.0.min.js"</span>&gt;&lt;/<span style="color: #daa520;">script</span>&gt;
&lt;<span style="color: #daa520;">script</span> <span style="color: #4eee94;">type</span>=<span style="color: #deb887;">"text/javascript"</span> <span style="color: #4eee94;">src</span>=<span style="color: #deb887;">"{% static "</span>polls/frontend.js<span style="color: #deb887;">" %}"</span>&gt;&lt;/<span style="color: #daa520;">script</span>&gt;
&lt;<span style="color: #daa520;">link</span> <span style="color: #4eee94;">rel</span>=<span style="color: #deb887;">"stylesheet"</span> <span style="color: #4eee94;">type</span>=<span style="color: #deb887;">"text/css"</span> <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% static "</span>polls/style.css<span style="color: #deb887;">" %}"</span>&gt;&lt;/<span style="color: #daa520;">script</span>&gt;
&lt;<span style="color: #daa520;">div</span> <span style="color: #4eee94;">class</span>=<span style="color: #deb887;">"center"</span>&gt;
  &lt;<span style="color: #daa520;">img</span> <span style="color: #4eee94;">src</span>=<span style="color: #deb887;">"{% static "</span>polls/survey.jpg<span style="color: #deb887;">" %}"</span> <span style="color: #4eee94;">alt</span>=<span style="color: #deb887;">"Oylar&#305; g&#246;relim"</span>/&gt;
  {% if latest_question_list %}
  &lt;<span style="color: #daa520;">ul</span>&gt;
    {% for question in latest_question_list %}
    &lt;<span style="color: #daa520;">li</span>&gt;&lt;<span style="color: #daa520;">a</span> <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'polls:detail' question.id %}"</span>&gt;{{ question.question_text }}&lt;/<span style="color: #daa520;">a</span>&gt;&lt;/<span style="color: #daa520;">li</span>&gt;
    {% endfor %}
  &lt;/<span style="color: #daa520;">ul</span>&gt;
  {% else %}
  &lt;<span style="color: #daa520;">p</span>&gt;No polls are available.&lt;/<span style="color: #daa520;">p</span>&gt;
  {% endif %}
&lt;/<span style="color: #daa520;">div</span>&gt;
</pre>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Writing your first Django app, part 7</h3>
<div class="outline-text-3" id="text-1-7">
</div><div id="outline-container-sec-1-7-1" class="outline-4">
<h4 id="sec-1-7-1"><span class="section-number-4">1.7.1</span> Admin panelinin düzenlenmesi</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
Daha önce "admin.site.register(Question)" ile Question modelini admin penceresine eklemiştik. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki kod ile Question modelinin admin panelinde oluşturulması sırasında Field sıralamaları belirlenmiş oldu. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
Yukarıdaki kod ile de ilgili alanlar gruplanabilir.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-7-2" class="outline-4">
<h4 id="sec-1-7-2"><span class="section-number-4">1.7.2</span> Choice modelinin admin paneline eklenmesi ve sonrası :D</h4>
<div class="outline-text-4" id="text-1-7-2">
<p>
Choice modelini aynı Question modelini eklediğimiz gibi<br  />
"admin.site.register(Choice)" şeklinde ekleyebiliriz. Böylelikle Choice nesnelerimizi de admin panelimizden ekleyebiliriz. Ancak görüldüğü gibi<br  />
Soruyu oluşturduktan sonra soruya ait cevapları ayrıca eklemek etkin bir yol değildir. Daha iyileştirmek için cevap ekleme seçeneklerini soru ekleme penceresine gömelim. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Sonuç nasıl oldu :) Fena değil. Ancak sorular aşağı doğru fazla yer kapladı. Bunun için "class ChoiceInline(admin.StackedInline):" satırındaki<br  />
<b>StackedInline</b> yerine <b>TabularInline</b> koyabiliriz.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-7-3" class="outline-4">
<h4 id="sec-1-7-3"><span class="section-number-4">1.7.3</span> Şimdi de Question listemizi düzenleyelim</h4>
<div class="outline-text-4" id="text-1-7-3">
<p>
Varsayılan olarak Model ana sayfamızdaki listede sadece modelin str fonksiyonunun çıktısı görüntülerinir. Bunun yanında faydalı alanları da gösterebiliriz.<br  />
</p>

<p>
polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Bu penceredeki alan isimleri aşağıdaki şekilde düzenlenebilir. polls/models.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-4" class="outline-4">
<h4 id="sec-1-7-4"><span class="section-number-4">1.7.4</span> Admin penceresinde Question modellerinin süzülmesi ve arama polls/admin.py</h4>
<div class="outline-text-4" id="text-1-7-4">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #4eee94;">search_fields</span> = [<span style="color: #deb887;">'question_text'</span>]
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-5" class="outline-4">
<h4 id="sec-1-7-5"><span class="section-number-4">1.7.5</span> Admin pencere template'inin düzenlenmesi</h4>
<div class="outline-text-4" id="text-1-7-5">
<p>
Create a templates directory in your project directory (the one that contains manage.py)<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
mydj_sites/mydj_sites/mydj_sites/settings.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #4eee94;">TEMPLATES</span> = [
    {
        <span style="color: #deb887;">'BACKEND'</span>: <span style="color: #deb887;">'django.template.backends.django.DjangoTemplates'</span>,
        <span style="color: #deb887;">'DIRS'</span>: [os.path.join(BASE_DIR, <span style="color: #deb887;">'templates'</span>)],
        <span style="color: #deb887;">'APP_DIRS'</span>: <span style="color: #a2cd5a;">True</span>,
        <span style="color: #deb887;">'OPTIONS'</span>: {
            <span style="color: #deb887;">'context_processors'</span>: [
                <span style="color: #deb887;">'django.template.context_processors.debug'</span>,
                <span style="color: #deb887;">'django.template.context_processors.request'</span>,
                <span style="color: #deb887;">'django.contrib.auth.context_processors.auth'</span>,
                <span style="color: #deb887;">'django.contrib.messages.context_processors.messages'</span>,
            ],
        },
    },
]
</pre>
</div>

<p>
Şimdi django admin template dosyasını kendi templates/admin dizinimiz altına kopyalayacağız. Django şablonun bulunduğu dizini aşağıdaki şekilde bulabiliriz.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
Yukarıdaki dizin altındaki "contrib/admin/templates/admin/base_site.html"<br  />
dosyayı mydj_sites/mydj_sites/templates/admin dizini altına kopyalayalım. İçeriği aşağıdaki gibi<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">{% extends <span style="color: #deb887;">"admin/base.html"</span> %}

{% block title %}{{ title }} | {{ site_title|default:_(<span style="color: #deb887;">'Django site admin'</span>) }}{% endblock %}

{% block branding %}
&lt;h1 <span style="color: #f08080;">id</span>=<span style="color: #deb887;">"site-name"</span>&gt;&lt;a <span style="color: #4eee94;">href</span>=<span style="color: #deb887;">"{% url 'admin:index' %}"</span>&gt;{{ site_header|default:_(<span style="color: #deb887;">'Django administration'</span>) }}&lt;/a&gt;&lt;/h1&gt;
{% endblock %}

{% block nav-<span style="color: #00bfff;">global</span> %}{% endblock %}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Yerelleştirme ve Çeviri</h3>
<div class="outline-text-3" id="text-1-8">
</div><div id="outline-container-sec-1-8-1" class="outline-4">
<h4 id="sec-1-8-1"><span class="section-number-4">1.8.1</span> Giriş</h4>
<div class="outline-text-4" id="text-1-8-1">
<p>
Django projelerinin yerelleştirilebilir olması için çevirilmesi gereken string alanlar için bu alanlar <b>translation strings</b> adı verilen kancalar koymamız gerekir.<br  />
</p>

<p>
Bundan sonra Django tüm projeden bu alanları çekerek <b>message file</b> dosyası oluşturur. Bu dosya içerisinden ilgili dil için gerekli çeviriler kolaylıkla yapılabilir. Bu dosya derlendikten sonra Django çalışma sırasında dil değişimi yapabilir.<br  />
</p>

<p>
Yerelleştirme Djangoda varsayılan olarak açıktır. Kullanılmak istenmiyorsa settings.py dosyasındaki <b>USE_I18N = FALSE</b> olarak ayarlanabilir.<br  />
</p>

<p>
Yerelleştirmee konusunda bir noktada yerel biçimlerin düzenlenmesidir. Bildindiği gibi farklı ülkelerde tarih ve ondalık ayraç gösterimi farklı olabilir. Bunun için <b>USE_L10N</b> ayarlaması yapılmalıdır.<br  />
</p>

<p>
Projeniz için çevirinin aktif olup olmadığını kontrol etmek için settings.py dosyasında <b>MIDDLEWARE</b><br  />
dizisinde <b>django.middleware.locale.LocaleMiddleware</b> olup olmadığını kontrol edebilirsiniz.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-8-2" class="outline-4">
<h4 id="sec-1-8-2"><span class="section-number-4">1.8.2</span> Çeviri: Python kodu içinde</h4>
<div class="outline-text-4" id="text-1-8-2">
<ul class="org-ul">
<li>Standart çeviri<br  />
<i>ugettext()</i> fonksiyonu ile <b>translation string</b> ler belirlenir. Fonsiyonun kısayolu olarak (<b>_</b>) kullanılabilir. Python'un interaktif shell uygulaması <b>_</b> karakterini <b>son sonuç</b> olarak tanımladığı için kullanım sırasında <i>ugettext()</i> <b>_()</b> olarak tekrar import edilerek sorun çözülür. Örnek view<br  />
<div class="org-src-container">

<pre class="src src-python"><span style="color: #00bfff;">from</span> django.http <span style="color: #00bfff;">import</span> HttpResponse <span style="color: #00bfff;">def</span> <span style="color: #daa520;">my_view</span>(request):
    <span style="color: #4eee94;">output</span> = _(<span style="color: #deb887;">"Welcome to my site."</span>)
    <span style="color: #00bfff;">return</span> HttpResponse(output)
</pre>
</div>

<p>
Çeviri kod içerisinde değişkenler ve hesaplanmış(join ile birleştirilmiş gibi) veriler üzerinde de uygulanabilir.<br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
Açıkcası hesaplanmış veri kısmını anlayamadım. <b>???</b><br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Hemen altındaki uyarıda, Djangonun değişken ve hesaplanmış verilerdeki stringleri bulamadığını bunun için <b>makemessages</b> kullanıldığını yazmış. <b>???</b><br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki örnekte, farklı dillerdeki farklı kelime dizilişlerini yenmek için konumsal(positional) interpolasyon kullanmak yerine isimlendirilmiş(named-string) interpolasyon kullanmak gerektiğini gösteriyor.<br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki şekilde uzantısı \*.po olan <b>messagefile</b> içerisinde çevirmene yardımcı olacak çeviri metnine yorum satırı eklenebiliyor. Çıktısı aşağıdaki gibi.<br  />
</p>

<div class="org-src-container">

<pre class="src src-po">#. Translators: This message appears on the home page only
# path/to/python/file.py:123
msgid "Welcome to my site."
msgstr ""
</pre>
</div>
</li>
<li>Marking strings as no-op <b>???</b><br  />
</li>
<li></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Araştırılacak <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><code>[&#xa0;]</code> Polls uygulamasında cevapları oluştururken verilen oy sayısı da belirlenebiliyor. Bu uygun olmaz. Varsayılan oy sayısının sıfır olarak belirlenmesi ve oluşturulurken bu değerin girilmemesini sağlamak iyi olur.<br  />
</li>
<li><code>[&#xa0;]</code> utf-8 karakterlerin kullanabilmesi<br  />
</li>
<li><code>[&#xa0;]</code> farklı dillerin esnek bir şekilde implemente edilmesi (Localization)<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Bağlantılar</h2>
<div class="outline-text-2" id="text-3">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<center>
<p>
<a href="blog.html">Blog</a> <a href="bash.html">Bash</a> <a href="baslangiclar.html">Başlangıç</a> <a href="muzik.html">Müzik</a> <a href="okunacaklar.html">Okunacaklar</a> <a href="notlar.html">Notlar</a> <a href="projeler.html">Projeler</a> <a href="sozler.html">Sözler</a> <a href="tatil_rotalari.html">Tatil Rotaları</a> <a href="emacs.html">Emacs</a> <a href="index.html">Ana Sayfa</a><br  />
</p>
<a href="https://umtmu.wordpress.com/"><img src="img/wp.png" width="1.5%" height="1.5%"></a>&nbsp&nbsp
<a href="#"><img src="img/yukari.png" width="2%" height="2%"></a>&nbsp&nbsp
<a href="https://www.instagram.com/kalemiolanadam/"><img src="img/ins.png" width="1.5%" height="1.5%"></a>
</center>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: umt</p>
<p class="date">Created: 2017-05-31 Çrş 22:11</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
