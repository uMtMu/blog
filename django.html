<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>uMtMu</title>
<!-- 2018-01-23 Tue 14:04 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="umt" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">uMtMu</h1>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<div class="center">

<div class="figure">
<p><img src="img/ja2.png" alt="ja2.png" /><br  />
</p>
</div>
</div>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Yol</a>
<ul>
<li><a href="#sec-1-1">1.1. Writing your first Django app, part 1</a></li>
<li><a href="#sec-1-2">1.2. Writing your first Django app, part 2</a></li>
<li><a href="#sec-1-3">1.3. Writing your first Django app, part 3</a></li>
<li><a href="#sec-1-4">1.4. Writing your first Django app, part 4</a></li>
<li><a href="#sec-1-5">1.5. Writing your first Django app, part 5</a></li>
<li><a href="#sec-1-6">1.6. Writing your first Django app, part 6</a></li>
<li><a href="#sec-1-7">1.7. Writing your first Django app, part 7</a></li>
<li><a href="#sec-1-8">1.8. Yerelleştirme ve Çeviri</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Araştırılacak <code>[0/3]</code></a></li>
<li><a href="#sec-3">3. Bağlantılar</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Yol</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Writing your first Django app, part 1</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> Virtul Env</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> Projenin oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
django_env/<br  />
   &#x2026; mydj_sites/<br  />
<b>root directory is just a container for your project. Its name doesn’t matter to Django; you can rename it to anything you like.</b>  <br  />
├── manage.py<br  />
<b>A command-line utility that lets you interact with this Django project in various ways.</b> <br  />
└── mydj_sites <br  />
<b>directory is the actual Python package for your project. Its name is the<br  />
Python package name you’ll need to use to import anything inside it</b> <br  />
           ├── <span class="underline"><span class="underline">init</span></span>.py<br  />
           ├── settings.py<br  />
           ├── urls.py<br  />
           └── wsgi.py<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-1-3" class="outline-4">
<h4 id="sec-1-1-3"><span class="section-number-4">1.1.3</span> Geliştirme sunucusu</h4>
<div class="outline-text-4" id="text-1-1-3">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
python manage.py runserver<br  />
Performing system checks&#x2026;<br  />
</p>

<p>
System check identified no issues (0 silenced).<br  />
</p>

<p>
You have 13 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.<br  />
Run 'python manage.py migrate' to apply them.<br  />
</p>

<p>
September 04, 2016 - 18:52:28<br  />
Django version 1.10.1, using settings 'mydj_sites.settings'<br  />
Starting development server at <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a><br  />
Quit the server with CONTROL-C.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-1-4" class="outline-4">
<h4 id="sec-1-1-4"><span class="section-number-4">1.1.4</span> İlk uygulamanın oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-4">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
Oluşan dizin yapısı polls/<br  />
├── admin.py<br  />
├── apps.py<br  />
├── <span class="underline"><span class="underline">init</span></span>.py<br  />
├── migrations<br  />
│   └── <span class="underline"><span class="underline">init</span></span>.py<br  />
├── models.py<br  />
├── tests.py<br  />
└── views.py<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-1-5" class="outline-4">
<h4 id="sec-1-1-5"><span class="section-number-4">1.1.5</span> İlk view'ın oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-5">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-1-6" class="outline-4">
<h4 id="sec-1-1-6"><span class="section-number-4">1.1.6</span> polls dizini altında urls.py dosyasının oluşturulması</h4>
<div class="outline-text-4" id="text-1-1-6">
<div class="org-src-container">

<pre class="src src-python">    url(r'^$', views.index, name='index'),
]
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-1-7" class="outline-4">
<h4 id="sec-1-1-7"><span class="section-number-4">1.1.7</span> mydj_sites/mydj_sites/mydj_sites dizinindeki urls.py içeriğine yönlendirme ekleme</h4>
<div class="outline-text-4" id="text-1-1-7">
<div class="org-src-container">

<pre class="src src-python">    url(r'^polls/', include('polls.urls')), url(r'^admin/', admin.site.urls),
]
</pre>
</div>
<p>
<a href="http://localhost:8000/polls/">http://localhost:8000/polls/</a><br  />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Writing your first Django app, part 2</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> Veri tabanının ayarlanması mydj_sites/mydj_sites/mydj_sites/settings.py dosyası içerisinde veri tabanı olarak sqlite seçili. INSTALLED_APPS dizisi içerisinde belirlenmiş uygulamalar için veri tabanında tablolar oluşturulmalı.</h4>
<div class="outline-text-4" id="text-1-2-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Veri tabanı modellerinin oluşturulması polls/models.py</h4>
<div class="outline-text-4" id="text-1-2-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> Modellerin aktive edilmesi</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Veri tabanı şemasının oluşturulması<br  />
Veri tabanı objelerinin oluşturulması<br  />
</p>

<p>
Yukarıda belirtilen eylemler, polls uygulamasının mydj_sites/mydj_sites/mydj_sites/settings.py dosyası INSTALLED_APPS<br  />
listesinin içerisine "'polls.apps.PollsConfig'," olarak eklenmesi gerekir.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
<p>
makemigrations komutu ile yeni eklenen uygulamalar olduğunu ve bu uygulamalar için gerekli veri tabanı değişikliklerinin yapılacağı bilgisi verilmektedir. Daha önce bu işlem için south uygulaması kullanılmıştı. Bu yöntem ile veri tabanı değişiklikleri sürüm kontrol sistemi altında tutulmuş. python manage.py makemigrations polls<br  />
Migrations for 'polls':<br  />
polls/migrations/0001_initial.py:<br  />
</p>
<ul class="org-ul">
<li>Create model Choice<br  />
</li>
<li>Create model Question<br  />
</li>
<li>Add field question to choice polls/migrations/0001_initial.py dosyasının aldında ilgili migration ile ilgili işlemler bulunmaktadır.<br  />
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-4" class="outline-4">
<h4 id="sec-1-2-4"><span class="section-number-4">1.2.4</span> API ile oynamak ??</h4>
<div class="outline-text-4" id="text-1-2-4">
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; import django
&gt;&gt;&gt; django.setup()
&gt;&gt;&gt; from polls.models import Question, Choice   # Import the model classes we just wrote.

# No questions are in the system yet.
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet []&gt;

# Create a new Question.
# Support for time zones is enabled in the default settings file, so
# Django expects a datetime with tzinfo for pub_date. Use timezone.now()
# instead of datetime.datetime.now() and it will do the right thing.
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; q = Question(question_text="What's new?", pub_date=timezone.now())

# Save the object into the database. You have to call save() explicitly.
&gt;&gt;&gt; q.save()

# Now it has an ID. Note that this might say "1L" instead of "1", depending
# on which database you're using. That's no biggie; it just means your
# database backend prefers to return integers as Python long integer
# objects.
&gt;&gt;&gt; q.id
1

# Access model field values via Python attributes.
&gt;&gt;&gt; q.question_text
"What's new?"
&gt;&gt;&gt; q.pub_date datetime.datetime(2012, 2, 26, 13, 0, 0, 775217, tzinfo=&lt;UTC&gt;)

# Change values by changing the attributes, then calling save().
&gt;&gt;&gt; q.question_text = "What's up?"
&gt;&gt;&gt; q.save()

# objects.all() displays all the questions in the database.
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet [&lt;Question: Question object&gt;]&gt;
</pre>
</div>

<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from polls.models import Question, Choice

# Make sure our __str__() addition worked.
&gt;&gt;&gt; Question.objects.all()
&lt;QuerySet [&lt;Question: What's up?&gt;]&gt;

# Django provides a rich database lookup API that's entirely driven by
# keyword arguments.
&gt;&gt;&gt; Question.objects.filter(id=1)
&lt;QuerySet [&lt;Question: What's up?&gt;]&gt;
&gt;&gt;&gt; Question.objects.filter(question_text__startswith='What')
&lt;QuerySet [&lt;Question: What's up?&gt;]&gt;

# Get the question that was published this year.
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; current_year = timezone.now().year
&gt;&gt;&gt; Question.objects.get(pub_date__year=current_year)
&lt;Question: What's up?&gt;

# Request an ID that doesn't exist, this will raise an exception.
&gt;&gt;&gt; Question.objects.get(id=2)
Traceback (most recent call last):
    ...
DoesNotExist: Question matching query does not exist.

# Lookup by a primary key is the most common case, so Django provides a
# shortcut for primary-key exact lookups.
# The following is identical to Question.objects.get(id=1).
&gt;&gt;&gt; Question.objects.get(pk=1)
&lt;Question: What's up?&gt;

# Make sure our custom method worked.
&gt;&gt;&gt; q = Question.objects.get(pk=1)
&gt;&gt;&gt; q.was_published_recently()
True

# Give the Question a couple of Choices. The create call constructs a new
# Choice object, does the INSERT statement, adds the choice to the set
# of available choices and returns the new Choice object. Django creates
# a set to hold the "other side" of a ForeignKey relation
# (e.g. a question's choice) which can be accessed via the API.
&gt;&gt;&gt; q = Question.objects.get(pk=1)

# Display any choices from the related object set -- none so far.
&gt;&gt;&gt; q.choice_set.all()
&lt;QuerySet []&gt;

# Create three choices.
&gt;&gt;&gt; q.choice_set.create(choice_text='Not much', votes=0)
&lt;Choice: Not much&gt;
&gt;&gt;&gt; q.choice_set.create(choice_text='The sky', votes=0)
&lt;Choice: The sky&gt;
&gt;&gt;&gt; c = q.choice_set.create(choice_text='Just hacking again', votes=0)

# Choice objects have API access to their related Question objects.
&gt;&gt;&gt; c.question
&lt;Question: What's up?&gt;

# And vice versa: Question objects get access to Choice objects.
&gt;&gt;&gt; q.choice_set.all()
&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;
&gt;&gt;&gt; q.choice_set.count()
3

# The API automatically follows relationships as far as you need.
# Use double underscores to separate relationships.
# This works as many levels deep as you want; there's no limit.
# Find all Choices for any question whose pub_date is in this year
# (reusing the 'current_year' variable we created above).
&gt;&gt;&gt; Choice.objects.filter(question__pub_date__year=current_year)
&lt;QuerySet [&lt;Choice: Not much&gt;, &lt;Choice: The sky&gt;, &lt;Choice: Just hacking again&gt;]&gt;

# Let's delete one of the choices. Use delete() for that.
&gt;&gt;&gt; c = q.choice_set.filter(choice_text__startswith='Just hacking')
&gt;&gt;&gt; c.delete()
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-5" class="outline-4">
<h4 id="sec-1-2-5"><span class="section-number-4">1.2.5</span> Django Admin</h4>
<div class="outline-text-4" id="text-1-2-5">
</div><ol class="org-ol"><li><a id="sec-1-2-5-1" name="sec-1-2-5-1"></a>admin kullanıcısı oluşturma<br  /><div class="outline-text-5" id="text-1-2-5-1">
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
<a href="http://127.0.0.1:8000/admin/">http://127.0.0.1:8000/admin/</a><br  />
</p>
</div>
</li>
<li><a id="sec-1-2-5-2" name="sec-1-2-5-2"></a>polls uygulamasını admin penceresi üzerinde erişime açma polls/admin.py<br  /><div class="outline-text-5" id="text-1-2-5-2">
<div class="org-src-container">

<pre class="src src-python"></pre>
</div>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Writing your first Django app, part 3</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> Başlıklar</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>Blog homepage – displays the latest few entries.<br  />
</li>
<li>Entry “detail” page – permalink page for a single entry.<br  />
</li>
<li>Year-based archive page – displays all months with entries in the given year.<br  />
</li>
<li>Month-based archive page – displays all days with entries in the given month.<br  />
</li>
<li>Day-based archive page – displays all entries in the given day.<br  />
</li>
<li>Comment action – handles posting comments to a given entry.<br  />
</li>
</ul>
<p>
In our poll application, we’ll have the following four views:<br  />
</p>
<ul class="org-ul">
<li>Question “index” page – displays the latest few questions.<br  />
</li>
<li>Question “detail” page – displays a question text, with no results but with a form to vote.<br  />
</li>
<li>Question “results” page – displays results for a particular question.<br  />
</li>
<li>Vote action – handles voting for a particular choice in a particular question.<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> Daha fazla view polls/views.py</h4>
<div class="outline-text-4" id="text-1-3-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
polls/urls.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">    # ex: /polls/
    url(r'^$', views.index, name='index'),
    # ex: /polls/5/
    url(r'^(?P&lt;question_id&gt;[0-9]+)/$', views.detail, name='detail'),
    # ex: /polls/5/results/
    url(r'^(?P&lt;question_id&gt;[0-9]+)/results/$', views.results, name='results'),
    # ex: /polls/5/vote/
    url(r'^(?P&lt;question_id&gt;[0-9]+)/vote/$', views.vote, name='vote'),
]
</pre>
</div>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
View kulllanımındaki problem sayfa tasarımının hard-coded olarak yapılmış olmasıdır. Bunun önüne geçmek için django template dili kullanılabilir.<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>


<p>
polls/templates/polls/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"> {% if latest_question_list %}
    &lt;ul&gt;
    {% for question in latest_question_list %}
	&lt;li&gt;&lt;a href="/polls/{{ question.id }}/"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
    {% endfor %}
    &lt;/ul&gt;
{% else %}
    &lt;p&gt;No polls are available.&lt;/p&gt;
{% endif %}
</pre>
</div>

<p>
Şimdi de polls/views.py dosyamızın oluşturduğumuz template'i kullanmasını sağlayalım.<br  />
</p>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3"><span class="section-number-4">1.3.3</span> Bir kısayol: render()</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
<b>HttpResponse(template.render(context, request))</b> yerine <b>return render(request, 'polls/index.html', context)</b> kulllandık. Ayrıca <b>loader</b><br  />
ve <b>HttpReponse</b> yerine sadece <b>render</b> import etmemiz yeterli oldu. Ancak render gerektirmeyen <b>static sayfalarınız</b> için hala loader ve HttpResponse sınıflarını kullanmanız gerekir.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-3-4" class="outline-4">
<h4 id="sec-1-3-4"><span class="section-number-4">1.3.4</span> 404 hatası oluşturmak polls/views.py</h4>
<div class="outline-text-4" id="text-1-3-4">
<div class="org-src-container">

<pre class="src src-python">from django.shortcuts import render from .models import Question
# ... def detail(request, question_id):
    try:
	question = Question.objects.get(pk=question_id)
    except Question.DoesNotExist:
	raise Http404("Question does not exist")
    return render(request, 'polls/detail.html', {'question': question})
</pre>
</div>

<p>
polls/templates/polls/detail.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">{{ question }}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-5" class="outline-4">
<h4 id="sec-1-3-5"><span class="section-number-4">1.3.5</span> Bir başka kısayol: get_object_or_404()</h4>
<div class="outline-text-4" id="text-1-3-5">
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"># ... def detail(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    return render(request, 'polls/detail.html', {'question': question})
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-6" class="outline-4">
<h4 id="sec-1-3-6"><span class="section-number-4">1.3.6</span> template sistemini kullanalım polls/templates/polls/detail.html</h4>
<div class="outline-text-4" id="text-1-3-6">
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;
&lt;ul&gt;
 {% for choice in question.choice_set.all %}
    &lt;li&gt;{{ choice.choice_text }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-7" class="outline-4">
<h4 id="sec-1-3-7"><span class="section-number-4">1.3.7</span> Hardcoded URL'lerin kaldırılması polls/templates/polls/index.html</h4>
<div class="outline-text-4" id="text-1-3-7">
<div class="org-src-container">

<pre class="src src-python">#&lt;li&gt;&lt;a href="/polls/{{ question.id }}/"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="{% url 'detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-8" class="outline-4">
<h4 id="sec-1-3-8"><span class="section-number-4">1.3.8</span> URL isim uzaylarının oluşturulması polls uygulamasında "details" url'i olduğu gibi başka bir uygulamada da</h4>
<div class="outline-text-4" id="text-1-3-8">
<p>
"details" url'i olabilir. Djangonun bunu ayırt edebilmesi için aşağıdaki işlemler yapılmalıdır. polls/urls.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">urlpatterns = [
    url(r'^$', views.index, name='index'), url(r'^(?P&lt;question_id&gt;[0-9]+)/$', views.detail, name='detail'), url(r'^(?P&lt;question_id&gt;[0-9]+)/results/$', views.results, name='results'), url(r'^(?P&lt;question_id&gt;[0-9]+)/vote/$', views.vote, name='vote'),
]
</pre>
</div>

<p>
polls/templates/polls/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">/*&lt;li&gt;&lt;a href="{% url 'detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;*/
&lt;li&gt;&lt;a href="{% url 'polls:detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Writing your first Django app, part 4</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> Basit bir form</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
polls/templates/polls/detail.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;

{% if error_message %}&lt;p&gt;&lt;strong&gt;{{ error_message }}&lt;/strong&gt;&lt;/p&gt;{% endif %}

&lt;form action="{% url 'polls:vote' question.id %}" method="post"&gt;
{% csrf_token %}
{% for choice in question.choice_set.all %}
    &lt;input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}" /&gt;
    &lt;label for="choice{{ forloop.counter }}"&gt;{{ choice.choice_text }}&lt;/label&gt;&lt;br /&gt;
{% endfor %}
&lt;input type="submit" value="Vote" /&gt;
&lt;/form&gt;
</pre>
</div>

<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python"># ... def vote(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    try:
	selected_choice = question.choice_set.get(pk=request.POST['choice'])
    except (KeyError, Choice.DoesNotExist):
	# Redisplay the question voting form. return render(request, 'polls/detail.html', {
	    'question': question,
	    'error_message': "You didn't select a choice.",
	})
    else:
	selected_choice.votes += 1
	selected_choice.save()
	# Always return an HttpResponseRedirect after successfully dealing
	# with POST data. This prevents data from being posted twice if a
	# user hits the Back button. return HttpResponseRedirect(reverse('polls:results', args=(question.id,)))
</pre>
</div>
<p>
polls/views.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
polls/templates/polls/results.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">&lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;

&lt;ul&gt;
{% for choice in question.choice_set.all %}
    &lt;li&gt;{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;

&lt;a href="{% url 'polls:detail' question.id %}"&gt;Vote again?&lt;/a&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> Generic viewlar</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
These views represent a common case of basic Web development:<br  />
</p>
<ul class="org-ul">
<li>getting data from the database according to a parameter passed in the URL,<br  />
</li>
<li>loading a template and returning the rendered template.<br  />
</li>
</ul>

<p>
Because this is so common, Django provides a shortcut, called the “generic views” system.<br  />
</p>
</div>

<ol class="org-ol"><li><a id="sec-1-4-2-1" name="sec-1-4-2-1"></a>urls.py'nin güncellenmesi polls/urls.py<br  /><div class="outline-text-5" id="text-1-4-2-1">
<div class="org-src-container">

<pre class="src src-python">urlpatterns = [
    url(r'^$', views.IndexView.as_view(), name='index'), url(r'^(?P&lt;pk&gt;[0-9]+)/$', views.DetailView.as_view(), name='detail'), url(r'^(?P&lt;pk&gt;[0-9]+)/results/$', views.ResultsView.as_view(), name='results'), url(r'^(?P&lt;question_id&gt;[0-9]+)/vote/$', views.vote, name='vote'),
]
</pre>
</div>
<p>
<b>Önemli</b> url(r'^(?P&amp;lt;pk&amp;gt;[0-9]+)/$', views.DetailView.as_view(), name='detail'),  &lt;pk&gt; yazan yerde daha önceden &lt;question_id&gt; yazıyordu. Bu değişikliğin sebebi, generic viewların primary_key ile çalışıyor olması<br  />
</p>
</div>
</li>
<li><a id="sec-1-4-2-2" name="sec-1-4-2-2"></a>views.py'nin güncellenmesi polls/views.py<br  /><div class="outline-text-5" id="text-1-4-2-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
DetailView varsayılan olarak &lt;app name&gt;/templates/&lt;app name&gt;/&lt;model name&gt;_detail.html dosyasını template olarak kullanır. Bizim durumumuzda bu dosya question_detail.html olacaktı. template_name değişkeni ile bunu değiştirdik.<br  />
Aynı şekilde ListView de varsayılan olarak &lt;app name&gt;/templates/&lt;app name&gt;/&lt;model name&gt;_list.html kullanacaktı.<br  />
</p>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Writing your first Django app, part 5</h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> Otomatik testler (ilginç bir konu)</h4>
<div class="outline-text-4" id="text-1-5-1">
</div><ol class="org-ol"><li><a id="sec-1-5-1-1" name="sec-1-5-1-1"></a>Neden test?<br  /><div class="outline-text-5" id="text-1-5-1-1">
<p>
Otomatik testler 3 farklı fazda yazılabilir. Başta, sonda, ortada :D<br  />
</p>

<p>
<b>We identify a bug</b><br  />
Fortunately, there’s a little bug in the polls application for us to fix right away: the Question.was_published_recently() method returns True if the<br  />
Question was published within the last day (which is correct) but also if the Question’s pub_date field is in the future (which certainly isn’t).<br  />
</p>
</div>
</li>

<li><a id="sec-1-5-1-2" name="sec-1-5-1-2"></a>Nasıl test?<br  /><div class="outline-text-5" id="text-1-5-1-2">
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; import datetime
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; from polls.models import Question
&gt;&gt;&gt; # create a Question instance with pub_date 30 days in the future
&gt;&gt;&gt; future_question = Question(pub_date=timezone.now() + datetime.timedelta(days=30))
&gt;&gt;&gt; # was it published recently?
&gt;&gt;&gt; future_question.was_published_recently()
True
</pre>
</div>

<p>
Yukarıda görüldüğü gibi yayın tarihi gelecekte olan bir soru için de yakın zamanda yayınlanmış cevabı dönüyor. polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Testlerin çalıştırılması<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> Bug'ın düzeltilmesi polls/models.py</h4>
<div class="outline-text-4" id="text-1-5-2">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-3" class="outline-4">
<h4 id="sec-1-5-3"><span class="section-number-4">1.5.3</span> Daha karmaşık örnekler</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
While we’re here, we can further pin down the was_published_recently()<br  />
method; in fact, it would be positively embarrassing if in fixing one bug we had introduced another.<br  />
</p>

<p>
polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Bu genişletme ile bu metodun tarih bazında bütün olası girdilerine karşı çıktıları kontrol edilmiş oldu.<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-5-4" class="outline-4">
<h4 id="sec-1-5-4"><span class="section-number-4">1.5.4</span> View'ı test etmek</h4>
<div class="outline-text-4" id="text-1-5-4">
<ul class="org-ul">
<li>Django test istemcisi<br  />
Djangonun sunduğu test istemcisini test.py dosyası üzerinden ya da shell üzerinden kullanabiliriz.<br  />

<p>
Shell üzerinden test.py üzerinden denemeden farklı olarak aşağıdaki iki satır gerekir.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from django.test.utils import setup_test_environment
&gt;&gt;&gt; setup_test_environment()
</pre>
</div>

<p>
setup_test_environment() installs a template renderer which will allow us to examine some additional attributes on responses such as response.context that otherwise wouldn’t be available. Note that this method does not setup a test database, so the following will be run against the existing database and the output may differ slightly depending on what questions you already created. You might get unexpected results if your TIME_ZONE in settings.py isn’t correct. If you don’t remember setting it earlier, check it before continuing.<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh">&gt;&gt;&gt; from django.test.utils import setup_test_environment
&gt;&gt;&gt; setup_test_environment()
&gt;&gt;&gt; from django.test import Client
&gt;&gt;&gt; # create an instance of the client for our use
&gt;&gt;&gt; client = Client()       
&gt;&gt;&gt; # get a response from '/'
&gt;&gt;&gt; response = client.get('/')
&gt;&gt;&gt; # we should expect a 404 from that address
&gt;&gt;&gt; response.status_code
404
&gt;&gt;&gt; # on the other hand we should expect to find something at '/polls/'
&gt;&gt;&gt; # we'll use 'reverse()' rather than a hardcoded URL
&gt;&gt;&gt; from django.urls import reverse
&gt;&gt;&gt; response = client.get(reverse('polls:index'))
&gt;&gt;&gt; response.status_code
200
&gt;&gt;&gt; response.content b'\n    &lt;ul&gt;\n    \n        &lt;li&gt;&lt;a href="/polls/1/"&gt;What&amp;#39;s up?&lt;/a&gt;&lt;/li&gt;\n    \n    &lt;/ul&gt;\n\n'
&gt;&gt;&gt; # If the following doesn't work, you probably omitted the call to
&gt;&gt;&gt; # setup_test_environment() described above
&gt;&gt;&gt; response.context['latest_question_list']
&lt;QuerySet [&lt;Question: What's up?&gt;]&gt;
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-5-5" class="outline-4">
<h4 id="sec-1-5-5"><span class="section-number-4">1.5.5</span> View'ı geliştirelim polls/views.py</h4>
<div class="outline-text-4" id="text-1-5-5">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-6" class="outline-4">
<h4 id="sec-1-5-6"><span class="section-number-4">1.5.6</span> View için otomatik test yazalım</h4>
<div class="outline-text-4" id="text-1-5-6">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-5-7" class="outline-4">
<h4 id="sec-1-5-7"><span class="section-number-4">1.5.7</span> DetailView için test yazılması polls/views.py</h4>
<div class="outline-text-4" id="text-1-5-7">
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
polls/test.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Writing your first Django app, part 6</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-sec-1-6-1" class="outline-4">
<h4 id="sec-1-6-1"><span class="section-number-4">1.6.1</span> Templateler üzerine deneme (CSS ekleme)</h4>
<div class="outline-text-4" id="text-1-6-1">
</div><ol class="org-ol"><li><a id="sec-1-6-1-1" name="sec-1-6-1-1"></a>görüntü ekleme<br  /><div class="outline-text-5" id="text-1-6-1-1">
<ol class="org-ol">
<li>mydj_sites/mydj_sites/mydj_sites/settings.py dosyasında INSTALLED_APPS listesinde django.contrib.staticfiles yoksa eklenecek.<br  />
</li>
<li>1. adımdaki dosyada STATIC_URL='<i>static</i>' olarak tanımlanacak.<br  />
</li>
<li>static dosyalar polls/static/polls dizini altında olacak. Örnek olarak polls/static/polls/survey.jpg<br  />
</li>
<li>polls/templates/polls/index.html<br  />
<div class="org-src-container">

<pre class="src src-python">{% load static %}
&lt;img src="{% static "polls/survey.jpg" %}" alt="Oyları görelim"/&gt;
{% if latest_question_list %}
   &lt;ul&gt;
     {% for question in latest_question_list %}
	   &lt;li&gt;&lt;a href="{% url 'polls:detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
     {% endfor %}
   &lt;/ul&gt;
{% else %}
   &lt;p&gt;No polls are available.&lt;/p&gt;
{% endif %}
</pre>
</div>
</li>
</ol>
</div>
</li>
<li><a id="sec-1-6-1-2" name="sec-1-6-1-2"></a>javascript ve css ekleme mydj_sites/mydj_sites/polls/static/polls<br  /><div class="outline-text-5" id="text-1-6-1-2">
<p>
├── frontend.js<br  />
├── style.css<br  />
└── survey.jpg frontend.js<br  />
</p>
<div class="org-src-container">

<pre class="src src-javascript">$(
    function() {
	$( "img" ).each( function() {
	    var $img = $( this ); var img_scale = $img.width() / $img.height();
	    $img.width( $img.parent().width() );
	    $img.height( $img.height() * $img_scale );
	});
    }
);
</pre>
</div>

<p>
style.css<br  />
</p>
<div class="org-src-container">

<pre class="src src-css">    margin: auto; width: 50%; border: 3px solid green; padding: 10px;
}
</pre>
</div>

<p>
templates/index.html<br  />
</p>
<div class="org-src-container">

<pre class="src src-html">{% load static %}
&lt;script src="https://code.jquery.com/jquery-3.1.0.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="{% static "polls/frontend.js" %}"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" href="{% static "polls/style.css" %}"&gt;&lt;/script&gt;
&lt;div class="center"&gt;
  &lt;img src="{% static "polls/survey.jpg" %}" alt="Oyları görelim"/&gt;
  {% if latest_question_list %}
  &lt;ul&gt;
    {% for question in latest_question_list %}
    &lt;li&gt;&lt;a href="{% url 'polls:detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
  {% else %}
  &lt;p&gt;No polls are available.&lt;/p&gt;
  {% endif %}
&lt;/div&gt;
</pre>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Writing your first Django app, part 7</h3>
<div class="outline-text-3" id="text-1-7">
</div><div id="outline-container-sec-1-7-1" class="outline-4">
<h4 id="sec-1-7-1"><span class="section-number-4">1.7.1</span> Admin panelinin düzenlenmesi</h4>
<div class="outline-text-4" id="text-1-7-1">
<p>
Daha önce "admin.site.register(Question)" ile Question modelini admin penceresine eklemiştik. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki kod ile Question modelinin admin panelinde oluşturulması sırasında Field sıralamaları belirlenmiş oldu. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
Yukarıdaki kod ile de ilgili alanlar gruplanabilir.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-7-2" class="outline-4">
<h4 id="sec-1-7-2"><span class="section-number-4">1.7.2</span> Choice modelinin admin paneline eklenmesi ve sonrası :D</h4>
<div class="outline-text-4" id="text-1-7-2">
<p>
Choice modelini aynı Question modelini eklediğimiz gibi<br  />
"admin.site.register(Choice)" şeklinde ekleyebiliriz. Böylelikle Choice nesnelerimizi de admin panelimizden ekleyebiliriz. Ancak görüldüğü gibi<br  />
Soruyu oluşturduktan sonra soruya ait cevapları ayrıca eklemek etkin bir yol değildir. Daha iyileştirmek için cevap ekleme seçeneklerini soru ekleme penceresine gömelim. polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Sonuç nasıl oldu :) Fena değil. Ancak sorular aşağı doğru fazla yer kapladı. Bunun için "class ChoiceInline(admin.StackedInline):" satırındaki<br  />
<b>StackedInline</b> yerine <b>TabularInline</b> koyabiliriz.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-7-3" class="outline-4">
<h4 id="sec-1-7-3"><span class="section-number-4">1.7.3</span> Şimdi de Question listemizi düzenleyelim</h4>
<div class="outline-text-4" id="text-1-7-3">
<p>
Varsayılan olarak Model ana sayfamızdaki listede sadece modelin str fonksiyonunun çıktısı görüntülerinir. Bunun yanında faydalı alanları da gösterebiliriz.<br  />
</p>

<p>
polls/admin.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Bu penceredeki alan isimleri aşağıdaki şekilde düzenlenebilir. polls/models.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-4" class="outline-4">
<h4 id="sec-1-7-4"><span class="section-number-4">1.7.4</span> Admin penceresinde Question modellerinin süzülmesi ve arama polls/admin.py</h4>
<div class="outline-text-4" id="text-1-7-4">
<div class="org-src-container">

<pre class="src src-python">search_fields = ['question_text']
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-5" class="outline-4">
<h4 id="sec-1-7-5"><span class="section-number-4">1.7.5</span> Admin pencere template'inin düzenlenmesi</h4>
<div class="outline-text-4" id="text-1-7-5">
<p>
Create a templates directory in your project directory (the one that contains manage.py)<br  />
</p>

<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
mydj_sites/mydj_sites/mydj_sites/settings.py<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">TEMPLATES = [
    {
	'BACKEND': 'django.template.backends.django.DjangoTemplates',
	'DIRS': [os.path.join(BASE_DIR, 'templates')],
	'APP_DIRS': True,
	'OPTIONS': {
	    'context_processors': [
		'django.template.context_processors.debug',
		'django.template.context_processors.request',
		'django.contrib.auth.context_processors.auth',
		'django.contrib.messages.context_processors.messages',
	    ],
	},
    },
]
</pre>
</div>

<p>
Şimdi django admin template dosyasını kendi templates/admin dizinimiz altına kopyalayacağız. Django şablonun bulunduğu dizini aşağıdaki şekilde bulabiliriz.<br  />
</p>
<div class="org-src-container">

<pre class="src src-sh"></pre>
</div>

<p>
Yukarıdaki dizin altındaki "contrib/admin/templates/admin/base_site.html"<br  />
dosyayı mydj_sites/mydj_sites/templates/admin dizini altına kopyalayalım. İçeriği aşağıdaki gibi<br  />
</p>
<div class="org-src-container">

<pre class="src src-python">{% extends "admin/base.html" %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
&lt;h1 id="site-name"&gt;&lt;a href="{% url 'admin:index' %}"&gt;{{ site_header|default:_('Django administration') }}&lt;/a&gt;&lt;/h1&gt;
{% endblock %}

{% block nav-global %}{% endblock %}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Yerelleştirme ve Çeviri</h3>
<div class="outline-text-3" id="text-1-8">
</div><div id="outline-container-sec-1-8-1" class="outline-4">
<h4 id="sec-1-8-1"><span class="section-number-4">1.8.1</span> Giriş</h4>
<div class="outline-text-4" id="text-1-8-1">
<p>
Django projelerinin yerelleştirilebilir olması için çevirilmesi gereken string alanlar için bu alanlar <b>translation strings</b> adı verilen kancalar koymamız gerekir.<br  />
</p>

<p>
Bundan sonra Django tüm projeden bu alanları çekerek <b>message file</b> dosyası oluşturur. Bu dosya içerisinden ilgili dil için gerekli çeviriler kolaylıkla yapılabilir. Bu dosya derlendikten sonra Django çalışma sırasında dil değişimi yapabilir.<br  />
</p>

<p>
Yerelleştirme Djangoda varsayılan olarak açıktır. Kullanılmak istenmiyorsa settings.py dosyasındaki <b>USE_I18N = FALSE</b> olarak ayarlanabilir.<br  />
</p>

<p>
Yerelleştirmee konusunda bir noktada yerel biçimlerin düzenlenmesidir. Bildindiği gibi farklı ülkelerde tarih ve ondalık ayraç gösterimi farklı olabilir. Bunun için <b>USE_L10N</b> ayarlaması yapılmalıdır.<br  />
</p>

<p>
Projeniz için çevirinin aktif olup olmadığını kontrol etmek için settings.py dosyasında <b>MIDDLEWARE</b><br  />
dizisinde <b>django.middleware.locale.LocaleMiddleware</b> olup olmadığını kontrol edebilirsiniz.<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-8-2" class="outline-4">
<h4 id="sec-1-8-2"><span class="section-number-4">1.8.2</span> Çeviri: Python kodu içinde</h4>
<div class="outline-text-4" id="text-1-8-2">
<ul class="org-ul">
<li>Standart çeviri<br  />
<i>ugettext()</i> fonksiyonu ile <b>translation string</b> ler belirlenir. Fonsiyonun kısayolu olarak (<b>_</b>) kullanılabilir. Python'un interaktif shell uygulaması <b>_</b> karakterini <b>son sonuç</b> olarak tanımladığı için kullanım sırasında <i>ugettext()</i> <b>_()</b> olarak tekrar import edilerek sorun çözülür. Örnek view<br  />
<div class="org-src-container">

<pre class="src src-python">from django.http import HttpResponse def my_view(request):
    output = _("Welcome to my site.")
    return HttpResponse(output)
</pre>
</div>

<p>
Çeviri kod içerisinde değişkenler ve hesaplanmış(join ile birleştirilmiş gibi) veriler üzerinde de uygulanabilir.<br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>
<p>
Açıkcası hesaplanmış veri kısmını anlayamadım. <b>???</b><br  />
</p>
<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Hemen altındaki uyarıda, Djangonun değişken ve hesaplanmış verilerdeki stringleri bulamadığını bunun için <b>makemessages</b> kullanıldığını yazmış. <b>???</b><br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki örnekte, farklı dillerdeki farklı kelime dizilişlerini yenmek için konumsal(positional) interpolasyon kullanmak yerine isimlendirilmiş(named-string) interpolasyon kullanmak gerektiğini gösteriyor.<br  />
</p>

<div class="org-src-container">

<pre class="src src-nillangnilswitchesnilflags">nilbody
</pre>
</div>

<p>
Yukarıdaki şekilde uzantısı \*.po olan <b>messagefile</b> içerisinde çevirmene yardımcı olacak çeviri metnine yorum satırı eklenebiliyor. Çıktısı aşağıdaki gibi.<br  />
</p>

<div class="org-src-container">

<pre class="src src-po">#. Translators: This message appears on the home page only
# path/to/python/file.py:123
msgid "Welcome to my site."
msgstr ""
</pre>
</div>
</li>
<li>Marking strings as no-op <b>???</b><br  />
</li>
<li></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Araştırılacak <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><code>[&#xa0;]</code> Polls uygulamasında cevapları oluştururken verilen oy sayısı da belirlenebiliyor. Bu uygun olmaz. Varsayılan oy sayısının sıfır olarak belirlenmesi ve oluşturulurken bu değerin girilmemesini sağlamak iyi olur.<br  />
</li>
<li><code>[&#xa0;]</code> utf-8 karakterlerin kullanabilmesi<br  />
</li>
<li><code>[&#xa0;]</code> farklı dillerin esnek bir şekilde implemente edilmesi (Localization)<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Bağlantılar</h2>
<div class="outline-text-2" id="text-3">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<center>
<p>
<a href="blog.html">Blog</a> <a href="bash.html">Bash</a> <a href="baslangiclar.html">Başlangıç</a> <a href="muzik.html">Müzik</a> <a href="okunacaklar.html">Okunacaklar</a> <a href="notlar.html">Notlar</a> <a href="projeler.html">Projeler</a> <a href="sozler.html">Sözler</a> <a href="tatil_rotalari.html">Tatil Rotaları</a> <a href="emacs.html">Emacs</a> <a href="index.html">Ana Sayfa</a><br  />
</p>
<a href="https://umtmu.wordpress.com/"><img src="img/wp.png" width="2%" height="2%"></a>&nbsp&nbsp
<a href="#"><img src="img/yukari.png" width="2%" height="2%"></a>&nbsp&nbsp
<a href="https://www.instagram.com/kalemiolanadam/"><img src="img/ins.png" width="2%" height="2%"></a>
</center>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: umt</p>
<p class="date">Created: 2018-01-23 Tue 14:04</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
